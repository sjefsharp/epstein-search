# DOJ Epstein Files Search - Full Documentation

> Comprehensive AI/LLM documentation for the DOJ Epstein Files Search tool

## Overview

This is an independent, open-source project providing AI-powered search and analysis of over 2,000 Department of Justice documents related to the Jeffrey Epstein case. The tool enables journalists, researchers, and the public to discover, search, and analyze official legal documents through a conversational AI interface.

## Data Source & Integrity

All documents are sourced directly from the official DOJ.gov multimedia search index (justice.gov/usao-sdny/multimedia). We do not host, modify, or alter any PDFs. All document links point to original government sources. The search index reflects documents released by the Department of Justice through court orders, Freedom of Information Act requests, and official proceedings.

## Features & Capabilities

### Fast Search Mode
- Queries the DOJ multimedia search API in real-time
- Returns results ranked by relevance and word count
- Generates AI summaries using Groq's Llama 3.3 70B model
- Typical response time: 2-5 seconds
- Rate limit: 10 requests per 10 seconds

### Deep Analysis Mode
- Fetches the full PDF directly from DOJ.gov
- Extracts all text using pdf-parse library
- Performs comprehensive AI analysis of the complete document
- Handles age-verification overlays and Akamai bot detection
- Typical response time: 10-30 seconds (depends on PDF size)
- Rate limit: 3 requests per 60 seconds

### Multi-Language Support
- Interface available in 6 languages: English, Dutch, French, German, Spanish, Portuguese
- AI summaries generated in the user's selectedlanguage
- Underlying documents remain in English (official DOJ records)
- Automatic locale detection from browser settings

## Frequently Asked Questions

**Q: What documents can I search?**
A: Over 2,000 documents from the DOJ Epstein case, including court filings, victim statements, flight logs, and other legal records released by the Department of Justice.

**Q: How does the AI search work?**
A: Fast mode searches the DOJ's indexed text and generates a summary. Deep mode downloads the full PDF and performs comprehensive analysis. Both use Groq's Llama 3.3 70B AI model.

**Q: Are the documents original?**
A: Yes. All PDF links point directly to DOJ.gov. We don't host, modify, or alter any documents. We only search and summarize them.

**Q: Is this service free?**
A: Yes, completely free. We use rate limiting to prevent abuse. If you hit the limit, wait a few minutes and try again. Donations help cover hosting costs.

**Q: Can I download the documents?**
A: Yes. Click any PDF link in the search results to open the original document on DOJ.gov. You can download from there.

**Q: How accurate are the AI summaries?**
A: Summaries are generated by AI and may contain errors. Always verify important information by reading the source PDF. Summaries are meant to help you find relevant documents quickly.

**Q: Who made this?**
A: This is an independent open-source project built to make legal documents more accessible. We have no affiliation with the DOJ or any parties involved in the case.

**Q: What is the Epstein case about?**
A: The Jeffrey Epstein case involves charges of sex trafficking and conspiracy. The Department of Justice released extensive documentation related to federal investigations, court proceedings, and victim testimonies.

**Q: How often is the database updated?**
A: The database reflects the DOJ's official document releases. When new documents are published by the Department of Justice, they become searchable through our system.

**Q: Can I search in languages other than English?**
A: The interface is available in 6 languages, but the underlying documents are official DOJ records in English. AI summaries are generated in your selected language.

**Q: What are Fast and Deep search modes?**
A: Fast mode searches indexed text from the DOJ database and generates quick AI summaries. Deep mode downloads the full PDF, extracts all text, and performs comprehensive analysis.

**Q: Is my search history stored?**
A: No. Search queries are processed in real-time and not linked to any user identity. Your chat history is stored locally in your browser via localStorage.

## Privacy & Data Handling

### Data Collection
We collect minimal data:
- IP addresses for rate limiting (stored temporarily in Redis, 24-hour TTL)
- Search queries (processed in real-time, not stored or linked to users)
- Anonymized usage statistics (aggregated, no personal data)
- Consent logs for EU/EEA users (timestamp, locale, policy version, IP hash)

We do NOT collect:
- Personal information or emails
- User profiles or persistent identifiers
- Browser fingerprints
- Search history (beyond local browser localStorage)

### Cookies & localStorage
- Chat history stored in browser localStorage (client-side only, never sent to server)
- Advertising cookies (Google AdSense) only if user explicitly consents
- Consent choice stored in localStorage with policy version and timestamp
- No third-party tracking cookies

### GDPR Compliance
- EU users receive explicit consent prompts before advertising cookies load
- Right to access, delete, or export data (minimal data stored means minimal export)
- Right to withdraw consent at any time via in-page controls
- Consent logs stored in Neon Postgres for compliance auditing

### Third-Party Services
- Upstash Redis (caching, rate limiting)
- Groq (AI inference)
- Vercel (hosting, CDN)
- Google AdSense (advertising, only with consent)
- Neon (Postgres database for consent logs)

## Technical Architecture

### Frontend (Next.js+React)
- Next.js 16 App Router (server components + client components)
- React 19 with TypeScript 5 strict mode
- Tailwind CSS 4 (v4-alpha) for styling
- shadcn/ui component library (new-york variant)
- next-intl for internationalization
- Zustand for client state (persisted to localStorage)
- Zod for runtime validation

### Backend APIs
- `/api/search`: Proxies DOJ multimedia API, deduplicates results, caches responses
- `/api/summarize`: Streams AI summaries via Server-Sent Events
- `/api/deep-analyze`: HMAC-authenticated proxy to worker service, streams SSE
- `/api/consent`: Logs user consent choices to Neon Postgres
- All routes implement rate limiting via Upstash Redis

### Worker Service (Render)
- Express 5 server running in Docker on Render (Frankfurt region)
- Playwright for headless Chromium PDF fetching (handles Akamai bot detection)
- pdf-parse for text extraction from PDFs
- HMAC signature verification for all incoming requests
- SSRF protection: blocks non-DOJ domains, localhost, private IPs
- Endpoints: `/search` (DOJ API proxy), `/analyze` (PDF fetch + parse), `/health`

### Security Measures
- All external input validated through Zod schemas
- HMAC-SHA256 authentication for worker requests (timing-safe comparison)
- SSE injection prevention (all chunks JSON-stringified)
- SSRF protection (justice.gov domain whitelist, HTTPS enforcement)
- Age gate overlay (prevents access until user confirms 18+)
- Consent gate (ads/tracking blocked until explicit acceptance)
- No eval(), Function(), or dynamic require()
- Security headers: CSP, X-Frame-Options, X-Content-Type-Options, HSTS

### Caching Strategy
- Search results: 24-hour TTL in Redis
- AI summaries: 24-hour TTL (keyed by query + locale)
- Deep analysis: 24-hour TTL (keyed by document URL + locale)
- Rate limits: sliding window counters in Redis
- Graceful degradation: cache/rate-limit failures never throw errors

## API Usage Examples

### Search Documents
```bash
curl -X POST https://epstein-search.vercel.app/api/search \
  -H "Content-Type: application/json" \
  -d '{"query": "maxwell", "locale": "en"}'
```

Response: JSON array of search results with title, URL, snippet, page range, word count.

### Generate Summary (SSE Stream)
```bash
curl -N -X POST https://epstein-search.vercel.app/api/summarize \
  -H "Content-Type: application/json" \
  -d '{"results": [...], "query": "maxwell", "locale": "en"}'
```

Response: Server-Sent Events stream with `data: {"text": "..."}` chunks, terminated by `data: [DONE]`.

### Deep Analyze PDF (SSE Stream)
```bash
curl -N -X POST https://epstein-search.vercel.app/api/deep-analyze \
  -H "Content-Type: application/json" \
  -d '{"url": "https://www.justice.gov/...", "fileName": "doc.pdf", "locale": "en"}'
```

Response: SSE stream with AI analysis of the full PDF text.

## Document Types in Archive

- **Court Filings**: Motions, orders, judgments, docket entries
- **Indictments**: Federal charging documents
- **Victim Impact Statements**: Testimonies from victims (names often redacted)
- **Depositions**: Sworn testimony from witnesses and involved parties
- **Flight Logs**: Records of private aircraft travel
- **Correspondence**: Letters, emails, memos (as entered into evidence)
- **Financial Records**: Bank statements, wire transfers, asset documentation
- **Evidence Exhibits**: Photos, diagrams, chain-of-custody forms
- **Investigation Documents**: FBI reports, affidavits, search warrants

All document types are official DOJ releases and linked directly to justice.gov sources.

## Deployment

- **Frontend**: Vercel (serverless, global CDN, automatic CI/CD from GitHub)
- **Worker**: Render (Docker web service, Frankfurt datacenter, health checks every 30s)
- **Database**: Neon Postgres (serverless, for consent logs only)
- **Cache**: Upstash Redis (serverless, global replication)
- **CDN**: Vercel Edge Network
- **DNS**: Managed via Vercel

## Contact & Contribution

- GitHub Repository: https://github.com/epstein-search
- Issue Tracker: https://github.com/epstein-search/issues
- Contributions welcome: PRs, bug reports, feature requests
- License: Open source (check repository for specific license)
-No corporate affiliation with DOJ or any involved parties

This project is built to serve the public interest in transparency and access to legal documents.
